<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://tech-blog.juzibot.com/</id>
    <title>Juzi Bot Blog</title>
    <updated>2022-03-14T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://tech-blog.juzibot.com/"/>
    <subtitle>Juzi Bot Blog</subtitle>
    <icon>https://tech-blog.juzibot.com/img/logo.svg</icon>
    <entry>
        <title type="html"><![CDATA[Puppet-Whatsapp 1.0 Released!]]></title>
        <id>puppet-whatsapp-1.0-released</id>
        <link href="https://tech-blog.juzibot.com/puppet-whatsapp-1.0-released"/>
        <updated>2022-03-14T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[Puppet-Whatsapp has been published for more than a year, (announcement here), and it was still in alpha stage with only login and text message supported. Recently Juzi.bot was planning to support whatsapp in the web application, so we started working on the project.]]></summary>
        <content type="html"><![CDATA[<p><a href="https://github.com/wechaty/puppet-whstsapp" target="_blank" rel="noopener noreferrer"><code>Puppet-Whatsapp</code></a> has been published for more than a year, (<a href="https://wechaty.js.org/2021/02/15/publishment-of-wechaty-whatsapp-puppet/" target="_blank" rel="noopener noreferrer">announcement here</a>), and it was still in alpha stage with only login and text message supported. Recently <a href="https://juzibot.com" target="_blank" rel="noopener noreferrer">Juzi.bot</a> was planning to support whatsapp in the web application, so we started working on the project.</p><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAeklEQVQImV3BsQqCQBzA4XuN3sC5d+sJosmpN+hWwdFBDo2GEMmplqYOKqngf5E45HXIz73vUz54iluB+zr++fGHDG/CGFDmaojSiLiKqbc15a4kNznN/sDqtGaWzdnYBGU/Fn3WtF1L3/WIE0SE1+OJviQsjkvSe8YEW4dm1po58RMAAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="190"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/wechaty-puppet-whatsapp-w.99d67ec.640.png" srcset="/assets/ideal-img/wechaty-puppet-whatsapp-w.99d67ec.640.png 640w,/assets/ideal-img/wechaty-puppet-whatsapp-w.1bcc109.770.png 770w,/assets/ideal-img/wechaty-puppet-whatsapp-w.04fc6a5.900.png 900w,/assets/ideal-img/wechaty-puppet-whatsapp-w.0d4a84d.1030.png 1030w" width="640" height="190"></noscript></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="primary-goals">Primary Goals<a class="hash-link" href="#primary-goals" title="Direct link to heading">‚Äã</a></h2><p><strong><em>Make puppet-whatsapp to be enterprise beta ready</em></strong></p><p>To achieve this goal, we worked from below aspects:</p><ul><li>improve code structure</li><li>improve stability</li><li>improve functionality</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="improve-code-structure">Improve code structure<a class="hash-link" href="#improve-code-structure" title="Direct link to heading">‚Äã</a></h2><p>Code structure is also related to the application structure. Before we started, we looked into the code, and found that all the main code logic are written into a huge class called <code>PuppetWhatsapp</code>. This is okay for an alpha stage puppet, but the scalability and flexibility will be limited by the structure. To make sure we have an enterprise beta ready puppet, we need to have a better foundation. Based on the experience working on other puppets, we extract below components from the huge class:</p><ul><li><a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/whatsapp/whatsapp-manager.ts" target="_blank" rel="noopener noreferrer"><code>WhatsappManager</code></a>: in charge of everything that connects to <code>whatsapp-web.js</code></li><li><a href="https://github.com/wechaty/puppet-whatsapp/tree/main/src/puppet-mixin" target="_blank" rel="noopener noreferrer">'mixins'</a>: separate implementation of different entities' into different mixins</li></ul><p>Besides, we also added a new manager layer to the <code>PuppetWhatsapp</code>. With a new <code>PuppetManager</code>, we are able to make the <code>PuppetWhatsapp</code> class with least logic, and most code are pretty short and easy to read.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="improve-stability">Improve stability<a class="hash-link" href="#improve-stability" title="Direct link to heading">‚Äã</a></h2><p>Stability is really important for an enterprise ready puppet.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="login-session">Login Session<a class="hash-link" href="#login-session" title="Direct link to heading">‚Äã</a></h3><p>The first step for stability project of a puppet is always keep the login session. Two advantage with an persistent login session:</p><ol><li>easier for develop phase, since restart application won't require a new scan login</li><li>easier to maintain stability, when we encounter an unknown state that causes application hangs or crashes, we could confidently restart the application and automatically re-login, recover the application with minor down time</li></ol><p>So we spent a lot of time working on the login session. We've also found some issues in <code>whatsapp-web.js</code> project. To make sure we could finish <code>PuppetWhatsapp</code> within a reasonable time, we decide to fork the <code>whatsapp-web.js</code> and fix the problem,
then raise PRs to <code>whatsapp-web.js</code> project.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="request-control">Request Control<a class="hash-link" href="#request-control" title="Direct link to heading">‚Äã</a></h3><p><code>whatsapp-web.js</code> is using the <code>puppeteer</code> to control the whatsapp web application, so the api calling rate and amount needs to be considered, if we are making requests too frequent, the <code>puppeteer</code> might crash, if we are making too many requests, we might trigger the risk control mechanism of whatsapp. So request control is another key point to ensure stability.</p><p>To control the request sent to whatsapp application, there are two different ways, both are important:</p><ol><li>programmatically limit the request rate</li><li>use cache to reduce the get requests to whatsapp</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="request-manager">Request Manager<a class="hash-link" href="#request-manager" title="Direct link to heading">‚Äã</a></h4><p>We created a new class called <a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/request/request-manager.ts" target="_blank" rel="noopener noreferrer"><code>RequestManager</code></a> to handle all request related stuff, and within the <code>RequestManager</code>, we added another component called <a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/request/rate-manager.ts" target="_blank" rel="noopener noreferrer"><code>RateManager</code></a>. For detailed code changes, please refer to <a href="https://github.com/wechaty/puppet-whatsapp/pull/279" target="_blank" rel="noopener noreferrer">this PR</a></p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="cache-manager">Cache Manager<a class="hash-link" href="#cache-manager" title="Direct link to heading">‚Äã</a></h4><p>We created a new class called <a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/data/cache-manager.ts'" target="_blank" rel="noopener noreferrer"><code>CacheManager</code></a> to manager different caches. We use <a href="https://github.com/huan/flash-store" target="_blank" rel="noopener noreferrer"><code>flash-store</code></a> as the underlying data persistent library, which is actually an old friend of puppets. </p><p>With <code>CacheManager</code>, requests to get same contact or room will be served by cache, from previous experience, this will significant reduce the get requests to IMs.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="improve-functionality">Improve functionality<a class="hash-link" href="#improve-functionality" title="Direct link to heading">‚Äã</a></h2><p>The alpha version only supports login and text messages, which is too basic for an enterprise ready puppet. So we started to add more features to the <code>PuppetWhatsapp</code>.</p><p>Refer to new Wechaty 1.0 mixin design, we decide to also use mixins to implement the new functions. We've added 7 mixins</p><ul><li><a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/puppet-mixin/contact-self.ts" target="_blank" rel="noopener noreferrer">contact-self</a></li><li><a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/puppet-mixin/contact.ts" target="_blank" rel="noopener noreferrer">contact</a></li><li><a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/puppet-mixin/conversation.ts" target="_blank" rel="noopener noreferrer">conversation</a></li><li><a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/puppet-mixin/friendship.ts" target="_blank" rel="noopener noreferrer">friendship</a></li><li><a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/puppet-mixin/message.ts" target="_blank" rel="noopener noreferrer">message</a></li><li><a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/puppet-mixin/room.ts" target="_blank" rel="noopener noreferrer">room</a></li><li><a href="https://github.com/wechaty/puppet-whatsapp/blob/9d9db5d308e253d92dae085f32e9b4ffea6fac3f/src/puppet-mixin/tag.ts" target="_blank" rel="noopener noreferrer">tag</a></li></ul><p>Some of the mixin has only un-implemented methods, but they are placeholders for future implementations.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="thanks-to">Thanks To<a class="hash-link" href="#thanks-to" title="Direct link to heading">‚Äã</a></h2><p>With all works described above, we've glad to announce <strong><em><u>the <code>PuppetWhatsapp</code> Beta are launched!</u></em></strong></p><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAFAAoDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUH/8QAJBAAAQIFAgcAAAAAAAAAAAAAAQIEAAMFERIHIQYTIjFRYXL/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAv/EABYRAQEBAAAAAAAAAAAAAAAAAAEAIf/aAAwDAQACEQMRAD8Ah1/UqsUitMWTfFTZOMqagkDm2PUokC4KrjsdrHzGgt9YwJEsDh2QBiNg49fEIRSaw0v/2Q==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="303"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/launched.6785255.640.jpg" srcset="/assets/ideal-img/launched.6785255.640.jpg 640w,/assets/ideal-img/launched.7e33653.770.jpg 770w,/assets/ideal-img/launched.f0cb8fd.900.jpg 900w,/assets/ideal-img/launched.cbd2621.1030.jpg 1030w" width="640" height="303"></noscript></div><p>Thanks to developers contributing to the project</p><ul><li><a href="https://github.com/su-chang" target="_blank" rel="noopener noreferrer">SuperChang</a></li><li><a href="https://github.com/hcfw007" target="_blank" rel="noopener noreferrer">NickWang</a></li><li><a href="https://github.com/bung87" target="_blank" rel="noopener noreferrer">Bung</a></li><li><a href="https://github.com/wedreamer" target="_blank" rel="noopener noreferrer">Ëø∞‰∏ç‰Ωú</a></li><li><a href="https://github.com/guo40020" target="_blank" rel="noopener noreferrer">Kelly</a></li></ul><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAGAAoDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUG/8QAHhAAAQMFAQEAAAAAAAAAAAAAAQIDBAAFBhEhQXH/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/EABYRAQEBAAAAAAAAAAAAAAAAAAABAv/aAAwDAQACEQMRAD8A1Oa3W82thuRCnlttUkaISkKDRJJQRog8555V2DnF3bgx0OtQ3XEtpCnFI6s66T9pSkXT/9k=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="386"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/kickoff.9ab6f7f.640.jpg" srcset="/assets/ideal-img/kickoff.9ab6f7f.640.jpg 640w,/assets/ideal-img/kickoff.968b8e0.770.jpg 770w,/assets/ideal-img/kickoff.ec04566.900.jpg 900w,/assets/ideal-img/kickoff.caab91a.1030.jpg 1030w" width="640" height="386"></noscript></div><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="new-puppetwhatsapp-maintainers">New PuppetWhatsapp Maintainers<a class="hash-link" href="#new-puppetwhatsapp-maintainers" title="Direct link to heading">‚Äã</a></h3><p>To award the excellent contribution to <code>PuppetWhatsapp</code>, author of Wechaty, <a href="https://github.com/huan" target="_blank" rel="noopener noreferrer">Huan</a>, announced two new <code>PuppetWhatsapp</code> maintainers, they are <a href="https://github.com/su-chang" target="_blank" rel="noopener noreferrer">SuperChang</a> and <a href="https://github.com/hcfw007" target="_blank" rel="noopener noreferrer">NickWang</a>. And a Github T-shirt, a bag of Github stickers and a Github brooch were given as the maintainer gifts. Additionally, to reward <a href="https://github.com/su-chang" target="_blank" rel="noopener noreferrer">SuperChang</a>'s continuous contribution to Wechaty, a special edition Github cup was rewarded.</p><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAHAAoDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAUG/8QAIBAAAgEEAQUAAAAAAAAAAAAAAQIDAAQFBhEUIjFBcf/EABUBAQEAAAAAAAAAAAAAAAAAAAID/8QAFhEBAQEAAAAAAAAAAAAAAAAAAQAh/9oADAMBAAIRAxEAPwC5mtuyFnsGViFnbjG2E3LMkjB+nB73+hfQ8mtna7Bqs9tDMlvJIkiBw7GQFgRzyRSlUTYjl//Z&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="427"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/maintainer.7631809.640.jpg" srcset="/assets/ideal-img/maintainer.7631809.640.jpg 640w,/assets/ideal-img/maintainer.b1baed6.770.jpg 770w,/assets/ideal-img/maintainer.26c3518.900.jpg 900w,/assets/ideal-img/maintainer.b70cf28.1030.jpg 1030w" width="640" height="427"></noscript></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="reference">Reference<a class="hash-link" href="#reference" title="Direct link to heading">‚Äã</a></h2><blockquote><p>Code base: <a href="https://github.com/wechaty/puppet-whatsapp" target="_blank" rel="noopener noreferrer">https://github.com/wechaty/puppet-whatsapp</a></p><p>Main Issue: <a href="https://github.com/wechaty/puppet-whatsapp/issues/263" target="_blank" rel="noopener noreferrer">https://github.com/wechaty/puppet-whatsapp/issues/263</a></p></blockquote>]]></content>
        <author>
            <name>Yuan Gao</name>
            <uri>https://github.com/windmemory</uri>
        </author>
        <category label="wechaty" term="wechaty"/>
        <category label="whatsapp" term="whatsapp"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Why developer interview cares about algorithm?]]></title>
        <id>algorithm-interview</id>
        <link href="https://tech-blog.juzibot.com/algorithm-interview"/>
        <updated>2022-02-26T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[During interviews, except the most frequent asked question "What does your company do", the second most asked question is "Why this interview cares about algorithm?". Today let's talk about why most companies prefer to ask algorithm during interview.]]></summary>
        <content type="html"><![CDATA[<p>During interviews, except the most frequent asked question "What does your company do", the second most asked question is <strong><em><u>"Why this interview cares about algorithm?"</u></em></strong>. Today let's talk about why most companies prefer to ask algorithm during interview.</p><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAADCAYAAACqPZ51AAAACXBIWXMAAC4jAAAuIwF4pT92AAAAY0lEQVQImR3Hyw3DIBBAQRoJn10DEWDiYMOB/vt6kTK3MSJKECWlxPM8jPtmrUVrDVXlZS3ee4zoQXoXYkr0T6fWypyTvTdnP/+PMWKCCHpEggSsszjnyDnTe+f6XowxKKXwA3+oLFL1WEmqAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="180"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/algorithm_interview_banner.76a4f58.640.png" srcset="/assets/ideal-img/algorithm_interview_banner.76a4f58.640.png 640w,/assets/ideal-img/algorithm_interview_banner.99a13bd.770.png 770w,/assets/ideal-img/algorithm_interview_banner.42fbd91.900.png 900w,/assets/ideal-img/algorithm_interview_banner.103d752.1030.png 1030w" width="640" height="180"></noscript></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>TL;DR</h5></div><div class="admonition-content"><ol><li>During the hiring process, companies do not really worried about missing a proper candidate, what they think about the most is the <strong><em><u>Hiring Efficiency</u></em></strong>, so the decision made related to hire process is highly related to hiring efficiency.</li><li>Algorithm is a simple and effective way to exam candidate's <strong><em><u>problem solving ability</u></em></strong> and <strong><em><u>coding ability</u></em></strong>, this is the most effective way to filter out the proper candidates</li></ol></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="questions-from-interviews">Questions from interviews<a class="hash-link" href="#questions-from-interviews" title="Direct link to heading">‚Äã</a></h2><p>From last year, our tech team has been expanding. I've interviewed a lot of frontend, backend and fullstack engineers. Since our phone interview or onsite interview both asked algorithm questions, some candidates asked me:</p><blockquote><p><strong><em><u>"Does algorithm really helps in the daily work?"</u></em></strong></p></blockquote><p>This question was usually raised by someone that does not give a right answer to the algorithm coding problem. However I believe that many developers might wondered about this. My answer is quite simple, <strong><em><u>algorithm helps nothing in the daily work</u></em></strong>. During daily work, we usually write code to implement business logic, which is not too complicate. Then the candidates will come up with another question:</p><blockquote><p><strong><em><u>"Why this interview cares about algorithm?"</u></em></strong></p></blockquote><p>We can see, the reason that the first question was asked is the second question. üòÇ</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="my-interview-experience">My interview experience<a class="hash-link" href="#my-interview-experience" title="Direct link to heading">‚Äã</a></h3><p>In my all interview experience, the most impressive interview was the one in Google. After I stepped into the interview room, the first word from interviewer was "Here is the problem". Directly to the algorithm coding problem, Google was the only one company that does not even asked about anything on my resume, even no self introduction.</p><p>And the other two interviews that I've been experienced was Expedia and Amazon, no surprise, both interviews were started with algorithm.</p><p>But to be honest, I didn't event think about why these companies like to do algorithm during the interview until I've started working in a startup company. What I did was following the information I got from the internet, prepare the algorithm. After I get back to China, I found all the leading internet companies are also doing the same thing, so why?</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="why-developer-interview-cares-about-algorithm">Why developer interview cares about algorithm?<a class="hash-link" href="#why-developer-interview-cares-about-algorithm" title="Direct link to heading">‚Äã</a></h2><p>I started to think about this question seriously after I joined the startup company. When the role changed, I am not an interviewee anymore, so I started to think about this question in a different perspective.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="the-cost-of-the-company-during-hiring">The cost of the company during hiring<a class="hash-link" href="#the-cost-of-the-company-during-hiring" title="Direct link to heading">‚Äã</a></h3><p>From company perspective, it would be great to hire the most proper talent with lowest cost. So what is the cost for company in hiring process?</p><ol><li>Hiring human resource cost: include HR department and the time cost for tech department</li><li>Candidate trial and error cost: when the company hired someone not qualified, this staff has to be fired and restart the hiring process, this case will cost a lot of time, thus a really high cost for the company</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="the-difficulty-of-the-cost-problem">The difficulty of the cost problem<a class="hash-link" href="#the-difficulty-of-the-cost-problem" title="Direct link to heading">‚Äã</a></h3><p>To optimize the cost described above, the hiring process has to be carefully designed:</p><ol><li>To save hiring human resource cost, it would be better to have a <strong><em><u>shorter interview time</u></em></strong>, so the time of tech department could be saved</li><li>To save the cost of trial and error, the interview should be able to get enough information from the candidate to make sure the candidate is qualified for the position. But for sufficient information, a <strong><em><u>longer interview time</u></em></strong> is required.</li></ol><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="efficiency-first-hiring-strategy">Efficiency first hiring strategy<a class="hash-link" href="#efficiency-first-hiring-strategy" title="Direct link to heading">‚Äã</a></h3><p>To cover both points listed above, the only way to save hiring cost is to <strong><em><u>improve hiring efficiency</u></em></strong>, to find some way that able to gather the most information from the candidate.</p><p>If we can understand the the strategy above, it would be easy to understand why some "bias" exists. For example, some companies have a hard requirement for their candidate: education background, only candidates from public university would be interviewed. This does not mean everyone from community college is not as good as the public university. But from company's perspective, candidates with public university education background are more likely to be qualified than candidates from community college. For a higher efficiency, candidates from community college are rejected.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="algorithm-an-effective-option">Algorithm, an effective option<a class="hash-link" href="#algorithm-an-effective-option" title="Direct link to heading">‚Äã</a></h3><p>Understanding the efficiency driven hiring strategy, it would be easy to understand why so many companies like to use algorithm to exam their candidates. First of all, algorithm questions is able to verify two abilities from candidate:</p><ol><li>Problem solving ability: break down a specific problem into a programming problem, come up with a detailed algorithm to solve it</li><li>Coding ability: implement a given algorithm with code, make a logic to a program</li></ol><p>People might think the most important ability for a developer is to "write" code, but actually, the most important ability for a developer is "design" code. During daily work, the time took for "design" code are usually reaches 70% to even 80%, the left part are the time to "write" code.</p><p>The two abilities above are the ones that required in developer's daily work. Although the algorithm coding problem only asks for an implementation of a given algorithm, and this algorithm might not be used in daily work, but the two abilities are necessary. So with an algorithm coding problem to exam the two abilities is the main purpose of the interview.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="i-think-i-am-qualified-why-reject-me-only-because-my-algorithm-is-not-good-enough">I think I am qualified, why reject me only because my algorithm is not good enough?<a class="hash-link" href="#i-think-i-am-qualified-why-reject-me-only-because-my-algorithm-is-not-good-enough" title="Direct link to heading">‚Äã</a></h3><p>There might be someone think that, I think I am qualified for the position, I have some advantages other than algorithm, why ignore all those factors, only cares about my algorithm? This reminds me a big news before: Max Howell, the author of <a href="https://brew.sh/" target="_blank" rel="noopener noreferrer">Homebrew</a>, was rejected by Google. </p><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAIAAoDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQI/8QAHRAAAgIBBQAAAAAAAAAAAAAAAQIAAwQRISNRYf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/xAAUEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwDTGPj2VAV1WLUnSrLgh0HIx92iIH//2Q==&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="525"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/max_howell.cfa6382.640.jpeg" srcset="/assets/ideal-img/max_howell.cfa6382.640.jpeg 640w,/assets/ideal-img/max_howell.75ece16.750.jpeg 750w" width="640" height="525"></noscript></div><p>In this case, Max Howell had significant achievement, but even this case, Google still rejected him. That is to say, candidates with strong background or big achievement failed on algorithm is not a specific case, but a common thing.</p><p>To answer this question, we need to get back to the hiring efficiency strategy. Checking all aspects of a candidate requires a lot of time, and there is still a chance that the candidate is not qualified after all checks. So for a higher efficiency, company would rather missed this candidate than spending more unpredictable time. Someone might think this is unfair, but from company perspective, this is the best choice for company interests after carefully comparing advantages and disadvantages.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="maybe-it-is-not-that-bad-to-prepare-some-algorithm">Maybe it is not that bad to prepare some algorithm<a class="hash-link" href="#maybe-it-is-not-that-bad-to-prepare-some-algorithm" title="Direct link to heading">‚Äã</a></h2><p>Simply talk about algorithm from interview perspective, developers have to prepare it, and this process is boring and suffer. I was also tormented by <a href="https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm" target="_blank" rel="noopener noreferrer">KMP algorithm</a> for several day and nights. But algorithm is not only about interviews, it will bring some real improvements to you. I will talk about this in another blog post (still working in progress, will link it after I finished).</p><p>At the end, sincerely recommend every developer do some algorithm during spare time.</p>]]></content>
        <author>
            <name>Yuan Gao</name>
            <uri>https://github.com/windmemory</uri>
        </author>
        <category label="leetcode" term="leetcode"/>
        <category label="tech interview" term="tech interview"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[WeCom x Swagger]]></title>
        <id>wecom-openapi</id>
        <link href="https://tech-blog.juzibot.com/wecom-openapi"/>
        <updated>2022-02-18T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[During the process integration with WeCom, we found that there are too many WeCom APIs needs to be integrated, and they all require different parameters. To reduce repeated work and human mistakes, we decide to use some tools generate WeCom API client code automatically.]]></summary>
        <content type="html"><![CDATA[<p>During the process integration with WeCom, we found that there are too many WeCom APIs needs to be integrated, and they all require different parameters. To reduce repeated work and human mistakes, we decide to use some tools generate WeCom API client code automatically.</p><p>Then we found the <code>Swagger</code>, after some trial and error, we got such a convenient tool...</p><p>Github: <a href="https://github.com/juzibot/wecom-openapi" target="_blank" rel="noopener noreferrer">github.com/juzibot/wecom-openapi</a></p><p>Demo: <a href="https://wecom-openapi.juzibot.com" target="_blank" rel="noopener noreferrer">wecom-openapi.juzibot.com</a></p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="openapi-standard">OpenAPI Standard<a class="hash-link" href="#openapi-standard" title="Direct link to heading">‚Äã</a></h2><p>Open API Standard (OAS) defines a standard, language irrelevant RESTful API standard. It enables developers and machines check and understand features of a specific service without accessing the source code, document or network traffic check. It is easy to read for not only human, but also machines. With a correctly defined OAS, developers could use least amount of work integrating services.</p><p>Besides, document generation tools could take advantage of OAS to generate API documents, code generation tools could automatically generate client, server code, and even test code. Refer to <a href="https://swagger.io/specification/" target="_blank" rel="noopener noreferrer">OpenAPI Specification</a>.</p><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/jpeg;base64,/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAFAAoDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAQH/8QAHhAAAQUAAgMAAAAAAAAAAAAAAwABAhESEyEiUaH/xAAVAQEBAAAAAAAAAAAAAAAAAAADBP/EABgRAAIDAAAAAAAAAAAAAAAAAAACAREh/9oADAMBAAIRAxEAPwDbSgKIhSwM0Rcb+DR71d61fylYAc+EeiylLLW/vpEUjTY64f/Z&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="285"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/swagger_banner.15c9af0.640.jpeg" srcset="/assets/ideal-img/swagger_banner.15c9af0.640.jpeg 640w,/assets/ideal-img/swagger_banner.d480f49.770.jpeg 770w,/assets/ideal-img/swagger_banner.2a80460.900.jpeg 900w,/assets/ideal-img/swagger_banner.85f7c36.1030.jpeg 1030w" width="640" height="285"></noscript></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="wecom-openapi">WeCom-OpenAPI<a class="hash-link" href="#wecom-openapi" title="Direct link to heading">‚Äã</a></h2><p>WeCom does not provide documents that aligned with OAS, so we decide to create <a href="https://github.com/juzibot/wecom-openapi" target="_blank" rel="noopener noreferrer">WeCom-OpenAPI</a>.</p><p><a href="https://github.com/juzibot/wecom-openapi" target="_blank" rel="noopener noreferrer">WeCom-OpenAPI</a> is a project take advantage of the integration of <code>NestJS</code> and <code>Swagger</code>, <a href="https://www.npmjs.com/package/@nestjs/swagger" target="_blank" rel="noopener noreferrer">@nestjs/swagger</a> provides some decorators to declare Swagger attributes, make it very convenient to manage the relations between APIs.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="how-to-use">How to use<a class="hash-link" href="#how-to-use" title="Direct link to heading">‚Äã</a></h2><p>First of all, clone the project to your local environment, install dependencies and start the project. Then the project will automatically generate swagger spec file openapi.yaml inside the root folder. Meanwhile, you can open your browser visit http://localhost:3000/openapi to check Swagger UI.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone git@github.com:juzibot/wecom-openapi.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> wecom-opwenapi </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> run start</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p><a href="https://github.com/juzibot/wecom-openapi" target="_blank" rel="noopener noreferrer">WeCom-OpenAPI</a> provides WeCom API proxy, so when you are able to debug WeCom API on Swagger UI. Just input your AccessToken as show below.</p><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAGCAYAAAD68A/GAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAxUlEQVQImUXMS0oDQRhF4dpKpYqIaDekux5/PQg4koTQ6kB0GlcnLsA9KI5Mj12DCBIU5EgawcE3OVyuMtag9Qw901hrJ3NraYzmyBjMX1M5ZZIkaq3/SuGsZFYlsayFUitq4XsWrsfHSJADIZaCF2EZHDn6qavWC/OThuubW56eXxh3O97GVx4f7ikh0PtIFEF1IXF82rDd3rH//uHz4x2+9ozjiJeECxE5DFvvaLuOXCub4YLVMLC5vOJ8vcbFiIthevwFeAxxhna8tG4AAAAASUVORK5CYII=&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="390"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/authorize_step.433601d.640.png" srcset="/assets/ideal-img/authorize_step.433601d.640.png 640w,/assets/ideal-img/authorize_step.03ae9ff.770.png 770w,/assets/ideal-img/authorize_step.8f692d2.900.png 900w,/assets/ideal-img/authorize_step.999983f.1030.png 1030w" width="640" height="390"></noscript></div><p>Then select the local proxy endpoint to avoid cross origin issue.</p><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAmUlEQVQImWWMPQuCUABF/dG9ksZw7Hc0BQ0NBVEOLRFme+TmN0aI5jN9ekKtqQv3LudwNTESjCeC2XyKYRjouo4Q4q8a3/h+gutHBFGCF8REcUJeez+MJqWk7ysjT58UWQqq5F2WFEUxMCmHx6qqWZs2y53Fam+z2Jxxw0f/1DQNbduiddOJx6vDwbpjXhy2pxthkvaiUqqXP/ycrr5S9rLbAAAAAElFTkSuQmCC&quot;)"><svg style="width:100%;height:auto;max-width:100%;margin-bottom:-4px" width="640" height="340"></svg><noscript><img style="width:100%;height:auto;max-width:100%;margin-bottom:-4px;position:absolute;top:0;left:0" src="/assets/ideal-img/proxy_step.f07be93.640.png" srcset="/assets/ideal-img/proxy_step.f07be93.640.png 640w,/assets/ideal-img/proxy_step.37f26e1.770.png 770w,/assets/ideal-img/proxy_step.78699f7.900.png 900w,/assets/ideal-img/proxy_step.056fd06.1030.png 1030w" width="640" height="340"></noscript></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="code-generation">Code generation<a class="hash-link" href="#code-generation" title="Direct link to heading">‚Äã</a></h2><p>The common code generation tool is <a href="https://github.com/swagger-api/swagger-codegen" target="_blank" rel="noopener noreferrer">swagger-codegen</a>, but this project does not generate a developer friendly golang code, so we recommend to use <a href="https://github.com/go-swagger/go-swagger" target="_blank" rel="noopener noreferrer">go-swagger</a> if you want to generate golang code. But this project only support Swagger 2.0, so we need to conver the version of the openapi.yaml file. Here we use <a href="https://www.npmjs.com/package/api-spec-converter" target="_blank" rel="noopener noreferrer">api-spec-converter</a> to do the version conversion.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx bash"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> -g api-spec-converter</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># convert doc version</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ api-spec-converter --from</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">openapi_3 --to</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">swagger_2 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --syntax</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">yaml </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  --order</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">alpha </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ./openapi.yaml </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> swagger.yaml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># install go-swaager </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ brew </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> go-swagger</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> wecom-api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># generate golang code, the target folder must be in GO_PATH</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token builtin class-name">cd</span><span class="token plain"> wecom-api </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> go mod init wecom-api</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># generate golang code</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ swagger generate client -f swagger.yaml -t wecom-api</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Util here, we can see the generated code file inside <code>wecom-api</code> folder.</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">./wecom-api/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îú‚îÄ‚îÄ client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚îî‚îÄ‚îÄ models</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><ul><li>client folder: Client, Parameter and Response Object</li><li>models folder: DTO, Response Entities definition</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="example">Example<a class="hash-link" href="#example" title="Direct link to heading">‚Äã</a></h2><div class="codeBlockContainer_I0IT language-go theme-code-block"><div class="codeBlockContent_wNvx go"><pre tabindex="0" class="prism-code language-go codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">package</span><span class="token plain"> main</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"log"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"wecom-api/client"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"wecom-api/client/department"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"github.com/go-openapi/runtime"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token string" style="color:#e3116c">"github.com/go-openapi/strfmt"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// define auth object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> auth </span><span class="token keyword" style="color:#00009f">struct</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">var</span><span class="token plain"> token </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"token"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// implement ClientAuthInfoWriter api</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">a </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">AuthenticateRequest</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">req runtime</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ClientRequest</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> reg strfmt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Registry</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// put the token at the right place</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> req</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetQueryParam</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"access_token"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> token</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">main</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  departmentID </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">float64</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  params </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> department</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewListDepartmentParams</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  params</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">SetID</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">departmentID</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  resp</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Default</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Department</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">ListDepartment</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">params</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&amp;</span><span class="token plain">auth</span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> err </span><span class="token operator" style="color:#393A34">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Fatalf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"err: %v"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"%v, %s"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Payload</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Errcode</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Payload</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Errmsg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">_</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">range</span><span class="token plain"> resp</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Payload</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Department </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    log</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">"%v"</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> v</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div>]]></content>
        <author>
            <name>Guili Liu</name>
            <uri>https://github.com/gongzili456</uri>
        </author>
        <category label="swagger" term="swagger"/>
        <category label="openapi" term="openapi"/>
        <category label="wecom" term="wecom"/>
        <category label="codegen" term="codegen"/>
    </entry>
    <entry>
        <title type="html"><![CDATA[Juzi Bot Tech Blog is Live!]]></title>
        <id>first-blog</id>
        <link href="https://tech-blog.juzibot.com/first-blog"/>
        <updated>2022-02-11T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[We are Juzi Bot Tech Team, we use cutting-edge technologies to build Next Generation, IM based Marketing Cloud. We want to empower companies to achieve business leap with our product.]]></summary>
        <content type="html"><![CDATA[<p>We are <strong><em>Juzi Bot Tech Team</em></strong>, we use cutting-edge technologies to build <strong><em>Next Generation, IM based Marketing Cloud</em></strong>. We want to empower companies to achieve business leap with our product.</p><p>We will share our tech insights along our development journey here. These insights will include not only experience of some specific technologies, frameworks or libraries, but also non-tech experiences.</p><p><img loading="lazy" alt="banner" src="/assets/images/juzi-tech-team-banner-a8e16bec10e216466e864956d05bd1f5.jpg" width="2022" height="570"></p><p>We believe that the value of techniques only shines when we <strong>apply it to solve real problems</strong>. So we are passionate about <strong>thinking out of box</strong>, using hacky way to solve weird problems, problems that are not common, but really matters to users.</p><hr><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="we-are-hiring">WE ARE HIRING<a class="hash-link" href="#we-are-hiring" title="Direct link to heading">‚Äã</a></h2><p>Scan below QR Code to learn more about a great opportunity joining a tech driven company!</p><p><img loading="lazy" alt="hr_qrcode" src="/assets/images/hr_qrcode-2195992b4e5d4f6fdd699cf4cb3003dc.png" width="310" height="310"></p>]]></content>
        <author>
            <name>Yuan Gao</name>
            <uri>https://github.com/windmemory</uri>
        </author>
        <category label="event" term="event"/>
    </entry>
</feed>